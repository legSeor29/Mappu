{% for map in maps %}
<div class="map-card" style="border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 5px;">
    <h3 style="margin-top: 0;">{{ map.title|default:"Без названия" }}</h3>
    <p>{{ map.description|default:"Описание отсутствует" }}</p>
    <p>Центр: {{ map.center_latitude }}, {{ map.center_longitude }}</p>
    <p>Узлов: {{ map.nodes_count }} | Ребер: {{ map.edges_count }}</p>

    <div style="display: flex; gap: 10px; margin-top: 10px;">
        <a href="{% url 'edit_map' map.id %}" style="display: inline-block; padding: 8px 15px; background: #007bff; color: white; text-decoration: none; border-radius: 4px;">
            Редактировать
        </a>

        <form id="deleteForm{{ map.id }}" action="{% url 'delete_map' map.id %}" method="POST" style="display: inline;">
            {% csrf_token %}
            <button type="button" onclick="confirmDelete({{ map.id }})" style="padding: 8px 15px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">
                Удалить
            </button>
        </form>
    </div>
</div>
{% empty %}
<p style="padding: 15px; background: #f8f9fa; border-radius: 5px;">
    Вы ещё не создали ни одной карты.
</p>
{% endfor %}

<script>
function confirmDelete(mapId) {
    if (confirm('Вы уверены, что хотите удалить эту карту?\nЭто действие нельзя отменить!')) {
        document.getElementById('deleteForm' + mapId).submit();
    }
}
</script>